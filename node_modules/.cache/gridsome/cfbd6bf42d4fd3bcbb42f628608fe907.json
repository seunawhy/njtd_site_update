{"remainingRequest":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\babel-loader\\lib\\index.js??ref--1-1!C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\src\\pages\\Archive.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\src\\pages\\Archive.vue","mtime":1725521740109},{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1725826210235},{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\babel-loader\\lib\\index.js","mtime":1725826212301},{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1725826210235},{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\vue-loader\\lib\\index.js","mtime":1725826215940}],"contextDependencies":[],"result":["import Issue from '~/components/Issue';\nimport Pagination from '~/components/Pagination';\nexport default {\n  metaInfo: {\n    title: 'Archives'\n  },\n  components: {\n    Issue,\n    Pagination\n  },\n\n  async mounted() {\n    this.fetchArchive();\n  },\n\n  data() {\n    return {\n      loading: true,\n      archives: [],\n      pagination: {\n        count: 20,\n        offset: 0,\n        max: 1\n      }\n    };\n  },\n\n  computed: {\n    item() {\n      return this.pagination.offset - this.count;\n    },\n\n    items() {\n      return Math.floor(this.pagination.max / this.count);\n    },\n\n    maxItems() {\n      return Math.min(this.pagination.offset + this.pagination.count, this.pagination.max);\n    }\n\n  },\n  methods: {\n    async fetchArchive() {\n      try {\n        this.loading = true;\n        const archives = await this.$http.get(`/issues?offset=${this.pagination.offset}`);\n        this.archives = archives.items;\n        this.pagination.max = archives.itemsMax;\n        this.loading = false;\n      } catch (E) {}\n    },\n\n    go(direction = 1) {\n      if (direction === -1 && this.pagination.offset === 1) return null;else if (direction === 1 && this.pagination.offset + this.pagination.count >= this.pagination.max) return null;\n      this.pagination.offset += direction * this.pagination.count;\n      this.fetchArchive();\n    }\n\n  }\n};",{"version":3,"mappings":"AA2BA;AACA;AAEA;EACAA;IACAC;EADA,CADA;EAKAC;IACAC,KADA;IAEAC;EAFA,CALA;;EAUA;IACA;EACA,CAZA;;EAcAC;IACA;MACAC,aADA;MAEAC,YAFA;MAGAC;QACAC,SADA;QAEAC,SAFA;QAGAC;MAHA;IAHA;EASA,CAxBA;;EA0BAC;IACAC;MACA;IACA,CAHA;;IAKAC;MACA;IACA,CAPA;;IASAC;MACA;IACA;;EAXA,CA1BA;EAwCAC;IACA;MACA;QACA;QACA;QACA;QACA;QACA;MACA,CANA,CAMA;IACA,CATA;;IAWAC;MACA,uEACA,uBACA,qEADA,EAEA;MACA;MACA;IACA;;EAlBA;AAxCA","names":["metaInfo","title","components","Issue","Pagination","data","loading","archives","pagination","count","offset","max","computed","item","items","maxItems","methods","go"],"sourceRoot":"src/pages","sources":["Archive.vue"],"sourcesContent":["<template>\r\n    <Layout>\r\n        <section>\r\n          <div class=\"gray-text\" v-if=\"loading\">\r\n            Loading Archives ...\r\n          </div>\r\n\r\n          <div v-else>\r\n            <div class=\"text-lg font-medium mb-8\">\r\n              Showing {{ pagination.offset + 1 }} - {{ maxItems }} of {{ pagination.max }} items\r\n            </div>\r\n            <div v-for=\"(issue) in archives\" :key=\"issue.id\" class=\"mb-3\">\r\n              <Issue :issue=\"issue\" />\r\n            </div>\r\n            <div class=\"flex justify-between items-center\">\r\n              <Pagination @previous=\"go(-1)\" @next=\"go\" />\r\n              <div>\r\n                Showing {{ pagination.offset + 1 }} - {{ maxItems }} of {{ pagination.max }} items\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n    </Layout>\r\n</template>\r\n\r\n<script>\r\nimport Issue from '~/components/Issue'\r\nimport Pagination from '~/components/Pagination'\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: 'Archives'\r\n  },\r\n\r\n  components: {\r\n    Issue,\r\n    Pagination\r\n  },\r\n\r\n  async mounted () {\r\n    this.fetchArchive()\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      loading: true,\r\n      archives: [],\r\n      pagination: {\r\n        count: 20,\r\n        offset: 0,\r\n        max: 1\r\n      }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    item () {\r\n      return this.pagination.offset - this.count\r\n    },\r\n\r\n    items () {\r\n      return Math.floor(this.pagination.max / this.count)\r\n    },\r\n\r\n    maxItems () {\r\n      return Math.min(this.pagination.offset + this.pagination.count, this.pagination.max)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async fetchArchive () {\r\n      try {\r\n        this.loading = true\r\n        const archives = (await this.$http.get(`/issues?offset=${this.pagination.offset}`))\r\n        this.archives = archives.items\r\n        this.pagination.max = archives.itemsMax\r\n        this.loading = false\r\n      } catch (E) {}\r\n    },\r\n\r\n    go (direction = 1) {\r\n      if (direction === -1 && this.pagination.offset === 1) return null\r\n      else if (direction === 1 && (\r\n        this.pagination.offset + this.pagination.count >= this.pagination.max\r\n      )) return null\r\n      this.pagination.offset += (direction * this.pagination.count)\r\n      this.fetchArchive()\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"]}]}