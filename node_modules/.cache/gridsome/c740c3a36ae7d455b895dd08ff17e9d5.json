{"remainingRequest":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\babel-loader\\lib\\index.js??ref--1-1!C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\src\\pages\\Search\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\src\\pages\\Search\\Index.vue","mtime":1725521740109},{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1725826210235},{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\babel-loader\\lib\\index.js","mtime":1725826212301},{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1725826210235},{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\vue-loader\\lib\\index.js","mtime":1725826215940}],"contextDependencies":[],"result":["import ArticleCard from '~/components/ArticleCard';\nimport Pagination from '~/components/Pagination';\nexport default {\n  name: 'an_issue',\n  components: {\n    ArticleCard,\n    Pagination\n  },\n\n  mounted() {\n    this.internalQuery = this.query;\n    this.search();\n  },\n\n  data() {\n    return {\n      loading: true,\n      results: [],\n      internalQuery: '',\n      page: 1,\n      offset: 0,\n      maxPages: 0,\n      maxItems: 0\n    };\n  },\n\n  computed: {\n    query() {\n      return this.$route.query.q;\n    },\n\n    articles() {\n      let articles = [];\n      this.results.forEach(article => {\n        articles.push(...article.publications);\n      });\n      return articles;\n    }\n\n  },\n  watch: {\n    page(pg) {\n      this.search();\n    }\n\n  },\n  methods: {\n    async search() {\n      try {\n        this.loading = true;\n        let res = await this.$http.get(`submissions?searchPhrase=${this.internalQuery}&offset=${this.offset}`);\n        this.maxItems = res.itemsMax;\n        this.maxPages = Math.ceil(res.itemsMax / 20);\n        this.results = res.items;\n        this.loading = false;\n      } catch (E) {\n        // TODO Take off the console log\n        console.log(E);\n      }\n    },\n\n    back() {\n      if (this.page > 1) {\n        this.offset -= 20;\n        --this.page;\n      }\n    },\n\n    next() {\n      if (this.page < this.maxPages) {\n        this.offset += 20;\n        ++this.page;\n      }\n    }\n\n  }\n};",null]}