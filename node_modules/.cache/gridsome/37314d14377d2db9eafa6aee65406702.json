{"remainingRequest":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\babel-loader\\lib\\index.js??ref--1-1!C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\src\\components\\ArticleCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\src\\components\\ArticleCard.vue","mtime":1725521740065},{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1725826210235},{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\babel-loader\\lib\\index.js","mtime":1725826212301},{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1725826210235},{"path":"C:\\Users\\Oluwaseun Olowu\\Documents\\Njtd\\njtd_site_new\\node_modules\\vue-loader\\lib\\index.js","mtime":1725826215940}],"contextDependencies":[],"result":["export default {\n  name: 'article-card',\n  props: {\n    article: {\n      type: Object,\n      required: true\n    }\n  },\n\n  async mounted() {\n    // Fetch Number of Downloads\n    let submissions = await this.$downloadApi.get(`/downloads/${this.article.submissionId}`);\n    this.downloads = submissions.data.count;\n  },\n\n  data() {\n    return {\n      parseId: '',\n      downloads: 0\n    };\n  },\n\n  computed: {\n    image() {\n      return this.article.image || 'https://img.icons8.com/fluent/96/000000/journal.png';\n    },\n\n    downloadUrl() {\n      let baseUrl = this.article.urlPublished.replace(/\\/view.+$/, '/download');\n      return `${baseUrl}/${this.article.submissionId}/${this.galley.id}/${this.galley.fileId}`;\n    },\n\n    galley() {\n      return this.article.galleys[0] || {\n        file: {}\n      };\n    }\n\n  },\n  methods: {\n    async recordDownload() {\n      this.downloads++;\n      await this.$downloadApi.put(`/downloads/${this.article.submissionId}`);\n    }\n\n  }\n};",{"version":3,"mappings":"AAwCA;EACAA,oBADA;EAEAC;IACAC;MACAC,YADA;MAEAC;IAFA;EADA,CAFA;;EASA;IACA;IACA;IACA;EACA,CAbA;;EAeAC;IACA;MACAC,WADA;MAEAC;IAFA;EAIA,CApBA;;EAsBAC;IACAC;MACA;IACA,CAHA;;IAKAC;MACA;MACA;IACA,CARA;;IAUAC;MACA;QACAC;MADA;IAGA;;EAdA,CAtBA;EAuCAC;IACA;MACA;MACA;IACA;;EAJA;AAvCA","names":["name","props","article","type","required","data","parseId","downloads","computed","image","downloadUrl","galley","file","methods"],"sourceRoot":"src/components","sources":["ArticleCard.vue"],"sourcesContent":["<template>\r\n    <article class=\"article flex flex-wrap md:flex-nowrap px-6 py-8 mb-6 radius-lg hover:shadow-md\">\r\n        <div class=\"article__image mb-3 max-w-2xl\" :style=\"`background-image: url(${image});`\">\r\n        </div>\r\n\r\n        <div class=\"ml-4\">\r\n            <div class=\"\">\r\n                <g-link :to=\"`/paper?paper=${article.submissionId}_${galley.publicationId}`\" class=\"text-lg font-medium\">\r\n                    {{ article.fullTitle.en_US }}\r\n                </g-link>\r\n            </div>\r\n            <p class=\"text-sm\">\r\n                <span class=\"gray-text\">Author(s): </span>{{\r\n                    article.authorsString || article.authorsStringShort || 'No Author Provided'\r\n                }}\r\n            </p>\r\n            <p class=\"text-sm\">\r\n                <span class=\"gray-text\">Pages: </span>{{ article.pages || 'N/A' }}\r\n            </p>\r\n            <p class=\"text-sm\" v-if=\"article.datePublished\">\r\n                <span class=\"gray-text\">Published on </span>{{ article.datePublished | date }}\r\n            </p>\r\n            <!-- <p class=\"text-sm\">\r\n                <span class=\"gray-text\">Keywords: </span>{{ article.keywords || 'No Keywords' }}\r\n            </p> -->\r\n            <div class=\"mt-6\">\r\n                <a :href=\"downloadUrl\" target=\"_blank\" @click=\"recordDownload\"\r\n                    class=\"py-2 text-sm px-4 rounded mr-3 font-medium hover:shadow-sm light-orange orange-text\"\r\n                    :download=\"galley.file.fileName\">\r\n                    Download\r\n                </a>\r\n                <span :title=\"`${article.downloads} downloads`\" class=\"gray-text text-sm\">\r\n                    {{ downloads }} <span class=\"iconify\" data-icon=\"entypo:download\"></span>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </article>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'article-card',\r\n    props: {\r\n        article: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n\r\n    async mounted () {\r\n        // Fetch Number of Downloads\r\n        let submissions = await this.$downloadApi.get(`/downloads/${this.article.submissionId}`)\r\n        this.downloads = submissions.data.count\r\n    },\r\n\r\n    data () {\r\n        return {\r\n            parseId: '',\r\n            downloads: 0\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        image () {\r\n            return this.article.image || 'https://img.icons8.com/fluent/96/000000/journal.png'\r\n        },\r\n\r\n        downloadUrl () {\r\n            let baseUrl = this.article.urlPublished.replace(/\\/view.+$/, '/download')\r\n            return `${baseUrl}/${this.article.submissionId}/${this.galley.id}/${this.galley.fileId}`\r\n        },\r\n\r\n        galley () {\r\n            return this.article.galleys[0] || {\r\n                file: {}\r\n            }\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        async recordDownload () {\r\n            this.downloads++\r\n            await this.$downloadApi.put(`/downloads/${this.article.submissionId}`)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.article {\r\n    background-color: darken($light-blue, 1);\r\n    border-radius: $radius;\r\n}\r\n\r\n.article__image {\r\n    position: relative;\r\n    width: 60px;\r\n    height: 60px;\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n\r\n    &:before {\r\n        // content: \" \";\r\n        position: absolute;\r\n        left: 0;\r\n        right: 0;\r\n        top: 0;\r\n        bottom: 0;\r\n        border-radius: $radius;\r\n        background: rgba($white, 0.3);\r\n    }\r\n}\r\n</style>"]}]}